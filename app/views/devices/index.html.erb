<div class="page-header">
  <h1>Devices</h1>
</div>

<div class="table-responsive">
  <ul class="nav nav-tabs justify-content-end">
    <li class="nav-item">
      <%= link_to (fa_icon 'list', :text => 'List'), devices_path, :class => 'nav-link active' %>
    </li>
    <li class="nav-item">
      <%= link_to (fa_icon 'plus', :text => 'Add new Device'), new_device_path, :class => 'nav-link' %>
    </li>
  </ul>

  <table class="table table-striped table-hover table-sm">
    <thead>
      <tr>
            <th>Title</th>
            <th>Item</th>
            <th>Device model</th>
            <th>Ip</th>
            <th>Host</th>
            <th>Description</th>
            <th>Unknown</th>
            <th class="action"></th>
        <th class="action"></th>
        <th class="action"></th>
      </tr>
    </thead>

    <tbody>
      <% @devices.each do |device| %>
        <%= content_tag :tr, id: dom_id(device), class: dom_class(device) do %>
                      <td><%= device.title %></td>
                      <td><%= link_to_if device.item, device.item.try(:title), device.item %></td>
                      <td><%= link_to_if device.device_model, device.device_model.try(:title), device.device_model %></td>
                      <td><%= device.ip %></td>
                      <td><%= device.host %></td>
                      <td><%= device.description %></td>
                      <td><%= device.unknown %></td>
                    <td class="action"><%= link_to device_path(device), :class => 'btn btn-sm btn-outline-info' do %><i class="far fa-eye"></i><% end %></td>
          <td class="action">
            <%= link_to edit_device_path(device), :class => 'btn btn-sm btn-outline-warning' do %>
              <i class="far fa-edit"></i>
            <% end %>
          </td>
          <td class="action">
            <%= link_to device_path(device), :class => 'btn btn-sm btn-outline-danger', method: :delete, data: { confirm: 'Are you sure?' } do %>
              <i class="far fa-trash-alt"></i>
            <% end %>
          </td>
        <% end %>
      <% end %>
    </tbody>
  </table>
  <%= paginate(@devices) %>
</div>